<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/layout/dialogBase.xhtml"
                xmlns:t="http://java.sun.com/jsf/composite/telveComponents"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:param name="title" value="İçeri Aktarılan Dosya" />

    <ui:define name="form">  
        <p:scrollPanel mode="native" style="width:650px;height:600px">
            <p:panel header="Dokuman Bilgileri">
                <div class="form-group">
                    <label>Dokuman Adı</label><br/>
                    <h:outputText value="#{rafExternalDocViewAction.externalDoc.documentName}"/><br/>

                    <label>Oluşturan</label><br/>
                    <h:outputText value="#{rafExternalDocViewAction.externalDoc.documentCreator}"/><br/>

                    <label>Oluşturma Tarihi</label><br/>
                    <h:outputText value="#{rafExternalDocViewAction.externalDoc.documentCreateDate}">
                        <f:convertDateTime type="date" pattern="dd.MM.yyyy HH:mm:ss"/>
                    </h:outputText><br/>

                    <label>Klasörü</label><br/>
                    <h:outputText  value="#{rafExternalDocViewAction.externalDoc.documentParentFolder}"/><br/>

                    <label>Alt Klasörü</label><br/>
                    <h:outputText  value="#{rafExternalDocViewAction.externalDoc.documentFolder}"/><br/>
                </div>
            </p:panel>
            <p:panel header="Evrak Bilgileri">
                <div class="form-group">
                    <label>Evrak Tipi</label><br/>
                    <h:outputText value="#{rafExternalDocViewAction.externalDocType.documentType}"/><br/>
                </div><br/>
                <p:dataTable var="rec" value="#{rafExternalDocViewAction.externalDocTypeAttributeValues}" emptyMessage="Kayıt yok.">
                    <p:column headerText="Özel Alan Adı">
                        <h:outputText value="#{rec.externalDocTypeAttribute.attributeName}" />
                    </p:column>
                    <p:column headerText="Özel Alan Değeri">
                        <h:outputText value="#{rec.value}" />
                    </p:column>
                </p:dataTable>
            </p:panel>
            <p:panel header="Evrak Notları">
                <p:dataTable var="rec" value="#{rafExternalDocViewAction.externalDocAnnotations}" emptyMessage="Kayıt yok.">
                    <p:column headerText="Not">
                        <h:outputText value="#{rec.annotation}" />
                    </p:column>
                    <p:column headerText="Kullanıcı">
                        <h:outputText value="#{rec.annotationUser}" />
                    </p:column>
                    <p:column headerText="Tarihi">
                        <h:outputText value="#{rec.annotationDate}">
                            <f:convertDateTime type="date" pattern="dd.MM.yyyy HH:mm:ss"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
            </p:panel>
            <p:panel header="Evrak Ekleri">
                <p:dataTable var="rec" value="#{rafExternalDocViewAction.externalDocAttachements}" emptyMessage="Kayıt yok.">
                    <p:column headerText="Ek Dosya Adı">
                        <a href="#{rafExternalDocViewAction.getFileLink(rec.rafFilePath, rec.rafFileId)}" target="_blank">
                            <h:outputText value="#{rafExternalDocViewAction.getFileName(rec.rafFilePath)}" />
                        </a>
                    </p:column>
                </p:dataTable>
            </p:panel>
            <p:panel header="Evrak İlgili Dosyaları">
                <p:dataTable var="rec" value="#{rafExternalDocViewAction.externalDocRelatedDocs}" emptyMessage="Kayıt yok.">
                    <p:column headerText="İlgili Dosya">
                        <a href="#{rafExternalDocViewAction.getFileLink(rec.rafFilePath, rec.rafFileId)}" target="_blank">
                            <h:outputText value="#{rafExternalDocViewAction.getFileName(rec.rafFilePath)}" />
                        </a>
                    </p:column>
                </p:dataTable>
            </p:panel>
            <p:panel header="Evrak Süreç Detayı">
                <p:dataTable var="rec" value="#{rafExternalDocViewAction.externalDocWFSteps}" emptyMessage="Kayıt yok.">
                    <p:column headerText="Süreç">
                        <h:outputText value="#{rec.stepName}" />
                    </p:column>
                    <p:column headerText="Başlatan">
                        <h:outputText value="#{rec.starter}" />
                    </p:column>
                    <p:column headerText="Başlama Tarihi">
                        <h:outputText value="#{rec.startedDate}">
                            <f:convertDateTime type="date" pattern="dd.MM.yyyy HH:mm:ss"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Tamamlayan">
                        <h:outputText value="#{rec.completer}" />
                    </p:column>
                    <p:column headerText="Tamamlanma Tarihi">
                        <h:outputText value="#{rec.completedDate}">
                            <f:convertDateTime type="date" pattern="dd.MM.yyyy HH:mm:ss"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Açıklama">
                        <h:outputText value="#{rec.comment}" />
                    </p:column>
                </p:dataTable>
            </p:panel>
        </p:scrollPanel>
    </ui:define>

</ui:composition>
